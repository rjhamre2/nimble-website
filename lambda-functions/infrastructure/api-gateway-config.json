{
  "name": "nimbleai-websocket-api",
  "protocolType": "WEBSOCKET",
  "routeSelectionExpression": "$request.body.action",
  "corsConfiguration": {
    "allowCredentials": true,
    "allowHeaders": ["*"],
    "allowMethods": ["*"],
    "allowOrigins": [
      "https://nimbleai.in",
      "http://localhost:3000",
      "http://127.0.0.1:3000"
    ]
  },
  "routes": [
    {
      "routeKey": "$connect",
      "target": "integrations/connect"
    },
    {
      "routeKey": "$disconnect", 
      "target": "integrations/disconnect"
    },
    {
      "routeKey": "$default",
      "target": "integrations/default"
    },
    {
      "routeKey": "ping",
      "target": "integrations/ping"
    }
  ],
  "stages": [
    {
      "stageName": "prod",
      "autoDeploy": true
    },
    {
      "stageName": "dev",
      "autoDeploy": true
    }
  ]
}
